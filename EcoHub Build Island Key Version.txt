-- Carga la librería de UI (Rayfield en este caso)
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- Crear la ventana de UI sin sistema de Key
local Window = Rayfield:CreateWindow({
    Name = "Eco Hub",
    LoadingTitle = "Cargando...",
    LoadingSubtitle = "Por favor espera",
    ConfigurationSaving = {
        Enabled = false,
        FolderName = nil,
        FileName = "EcoHubConfig"
    },
    Discord = {
        Enabled = false,
        Invite = "",
        RememberJoins = true
    }
    -- KeySystem = false -- Eliminado
})

-- Crear la pestaña Main
local MainTab = Window:CreateTab("Main", 4483362458)
local MainSection = MainTab:CreateSection("Interactable")

-- Botón para recoger herramientas
MainTab:CreateButton({
    Name = "Get All Tools",
    Callback = function()
        loadstring([[ 
            local player = game.Players.LocalPlayer
            local character = player.Character or player.CharacterAdded:Wait()
            local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
            local backpack = player:FindFirstChild("Backpack")
            
            if not humanoidRootPart or not backpack then
                warn("Error: No se encontró el HumanoidRootPart o el Backpack.")
                return
            end
            
            local posOriginal = humanoidRootPart.CFrame
            local itemsRecolectados = 0
            
            local function recogerItems()
                for _, objeto in pairs(game.Workspace:GetDescendants()) do
                    if objeto.Name == "SwordGiver" or objeto.Name == "GearGiver" or objeto.Name == "Giver" then
                        if objeto.Parent:FindFirstChildOfClass("Part") then
                            humanoidRootPart.CFrame = objeto.Parent:FindFirstChildOfClass("Part").CFrame + Vector3.new(0,1,0)
                            wait(0.1)
                            itemsRecolectados = itemsRecolectados + 1
                        end
                    end
                end
            end
            
            recogerItems()
            
            humanoidRootPart.CFrame = posOriginal
            print("Proceso completado. Ítems recogidos: " .. itemsRecolectados)
        ]])()
    end
})

-- Botón para Purple Hollow (Progears Imported)
MainTab:CreateButton({
    Name = "Purple Hollow (Progears Imported)",
    Callback = function()
        local args = {
            [1] = 16,
            [2] = 50
        }
        game:GetService("ReplicatedStorage").Purple:FireServer(unpack(args))
    end
})

-- Botón para Drop Cash X100
MainTab:CreateButton({
    Name = "Drop Cash X100 (Wallet in hand)",
    Callback = function()
        for i = 1, 100 do
            local args = {
                [1] = 1
            }
            game:GetService("ReplicatedStorage").WalletRemotes.DropCash:FireServer(unpack(args))
            wait(0.1)
        end
    end
})

-- Botón para equipar todas las herramientas
MainTab:CreateButton({
    Name = "Equip All Tools",
    Callback = function()
        local player = game.Players.LocalPlayer
        local backpack = player:FindFirstChild("Backpack")
        local character = player.Character or player.CharacterAdded:Wait()

        if not backpack or not character then
            warn("Error: No se encontró el Backpack o el Character.")
            return
        end

        for _, tool in pairs(backpack:GetChildren()) do
            if tool:IsA("Tool") then
                tool.Parent = character
            end
        end

        print("Todas las herramientas han sido equipadas.")
    end
})

-----------------------------------------------------
-- Teleport Tab
local TeleportsTab = Window:CreateTab("🏃‍♂️Teleports", nil)
local Section = TeleportsTab:CreateSection("Places", true)

local lastPosition = nil

local function savePosition()
    local Player = game.Players.LocalPlayer
    if Player and Player.Character and Player.Character:FindFirstChild("HumanoidRootPart") then
        lastPosition = Player.Character.HumanoidRootPart.CFrame
    end
end

local function teleportTo(position)
    local Player = game.Players.LocalPlayer
    if Player and Player.Character and Player.Character:FindFirstChild("HumanoidRootPart") then
        savePosition()
        Player.Character.HumanoidRootPart.CFrame = CFrame.new(position)
    end
end

TeleportsTab:CreateButton({
   Name = "Teleport to Portal",
   Info = "Teleports you to the portal.",
   Interact = 'UnChangable',
   Callback = function()
        teleportTo(Vector3.new(-292, 48, 200))
   end,
})

TeleportsTab:CreateButton({
   Name = "Teleport to Statue",
   Info = "Teleports you to the statue.",
   Interact = 'UnChangable',
   Callback = function()
        teleportTo(Vector3.new(-212, 48, 428))
   end,
})

TeleportsTab:CreateButton({
   Name = "Teleport to Nuke",
   Info = "Teleports you to the nuke.",
   Interact = 'UnChangable',
   Callback = function()
        teleportTo(Vector3.new(56, 48, 196))
   end,
})

TeleportsTab:CreateButton({
   Name = "Teleport to GrassMap",
   Info = "Teleports you to the GrassMap.",
   Interact = 'UnChangable',
   Callback = function()
        teleportTo(Vector3.new(-128, 48, 188))
   end,
})

local BackSection = TeleportsTab:CreateSection("Return", true)

TeleportsTab:CreateButton({
   Name = "Teleport Back",
   Info = "Returns you to your last saved location.",
   Interact = 'UnChangable',
   Callback = function()
        if lastPosition then
            local Player = game.Players.LocalPlayer
            if Player and Player.Character and Player.Character:FindFirstChild("HumanoidRootPart") then
                Player.Character.HumanoidRootPart.CFrame = lastPosition
            end
        end
   end,
})

-----------------------------------------------------
-- Se ha movido el botón "REVOLUTION!" a la pestaña Main
MainTab:CreateButton({
    Name = "REVOLUTION!",
    Callback = function()
        local otherIssue = "DefaultTeam"
        local skillIssue = "maroon"

        local mapMake = "MapName"
        local numboMap = "1"

        local destro1 = "ServerName"
        local destroy1 = "DESTROYED"

        local String1 = "DefaultRank"
        local Number2 = 3

        local stringo = "DefaultTeamEnabled"
        local stringo1 = true

        local ohString1 = "SkyboxTheme"
        local r = 1
        local ohString2 = "GrassTheme"
        local rw = 1

        game:GetService("ReplicatedStorage").ActivateBeacon:InvokeServer()

        local function chaosEnsue()
            game:GetService("ReplicatedStorage").SetServerSetting:InvokeServer(ohString1, r)
            game:GetService("ReplicatedStorage").SetServerSetting:InvokeServer(String1, Number2)
            game:GetService("ReplicatedStorage").SetServerSetting:InvokeServer(ohString2, rw)
            game:GetService("ReplicatedStorage").SetServerSetting:InvokeServer(stringo, stringo1, true)
            game:GetService("ReplicatedStorage").SetServerSetting:InvokeServer(otherIssue, skillIssue)
            game:GetService("ReplicatedStorage").SetServerSetting:InvokeServer(destro1, destroy1)
            game:GetService("ReplicatedStorage").SetServerSetting:InvokeServer(mapMake, numboMap)
        end

        task.spawn(function()
            while true do
                chaosEnsue()
                stringo1 = false
                rw = rw % 17 + 1
                r = r % 16 + 1
                numboMap = numboMap % 6 + 1
                task.wait(0.1) -- Pequeña espera para evitar bloqueos
            end
        end)
    end
})
